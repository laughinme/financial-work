import {
  __commonJS,
  require_react
} from "./chunk-2BSIQZQ3.js";

// ../node_modules/@telegram-auth/react/dist/esm/createScript.js
var require_createScript = __commonJS({
  "../node_modules/@telegram-auth/react/dist/esm/createScript.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.createScript = createScript;
    function createScript({ authCallbackUrl, botUsername, buttonSize = "large", cornerRadius, lang = "en", onAuthCallback, requestAccess = "write", showAvatar = true, widgetVersion = 21 }) {
      const script = document.createElement("script");
      script.async = true;
      script.src = `https://telegram.org/js/telegram-widget.js?${widgetVersion}`;
      script.setAttribute("data-telegram-login", botUsername);
      script.setAttribute("data-size", buttonSize);
      if (cornerRadius) {
        script.setAttribute("data-radius", `${cornerRadius}`);
      }
      if (requestAccess) {
        script.setAttribute("data-request-access", requestAccess);
      }
      script.setAttribute("data-userpic", JSON.stringify(Boolean(showAvatar)));
      script.setAttribute("data-lang", lang);
      if (authCallbackUrl) {
        script.setAttribute("data-auth-url", authCallbackUrl);
      } else if (onAuthCallback) {
        script.setAttribute("data-onauth", "TelegramAuthLogin.onAuthCallback(user)");
      }
      return script;
    }
  }
});

// ../node_modules/@telegram-auth/react/dist/esm/LoginButton.js
var require_LoginButton = __commonJS({
  "../node_modules/@telegram-auth/react/dist/esm/LoginButton.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      var desc = Object.getOwnPropertyDescriptor(m, k);
      if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
        desc = { enumerable: true, get: function() {
          return m[k];
        } };
      }
      Object.defineProperty(o, k2, desc);
    } : function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      o[k2] = m[k];
    });
    var __setModuleDefault = exports && exports.__setModuleDefault || (Object.create ? function(o, v) {
      Object.defineProperty(o, "default", { enumerable: true, value: v });
    } : function(o, v) {
      o["default"] = v;
    });
    var __importStar = exports && exports.__importStar || function(mod) {
      if (mod && mod.__esModule) return mod;
      var result = {};
      if (mod != null) {
        for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
      }
      __setModuleDefault(result, mod);
      return result;
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.LoginButton = LoginButton;
    var react_1 = __importStar(require_react());
    var createScript_1 = require_createScript();
    function initTelegramAuthLogin(options) {
      window.TelegramAuthLogin = options;
    }
    function LoginButton(props) {
      const hiddenDivRef = (0, react_1.useRef)(null);
      const scriptRef = (0, react_1.useRef)();
      (0, react_1.useEffect)(() => {
        var _a, _b, _c, _d;
        (_a = scriptRef.current) == null ? void 0 : _a.remove();
        initTelegramAuthLogin({ onAuthCallback: props.onAuthCallback });
        scriptRef.current = (0, createScript_1.createScript)(props);
        (_b = hiddenDivRef.current) == null ? void 0 : _b.after(scriptRef.current);
        const siblings = ((_d = (_c = hiddenDivRef.current) == null ? void 0 : _c.parentElement) == null ? void 0 : _d.children) || [];
        return () => {
          var _a2;
          (_a2 = scriptRef.current) == null ? void 0 : _a2.remove();
          for (const element of siblings) {
            if (element instanceof HTMLIFrameElement && element.src.includes("oauth.telegram.org")) {
              element.remove();
              break;
            }
          }
        };
      }, [props]);
      return react_1.default.createElement("div", { ref: hiddenDivRef, hidden: true });
    }
  }
});

// ../node_modules/@telegram-auth/react/dist/esm/types.js
var require_types = __commonJS({
  "../node_modules/@telegram-auth/react/dist/esm/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// ../node_modules/@telegram-auth/react/dist/esm/index.js
var require_esm = __commonJS({
  "../node_modules/@telegram-auth/react/dist/esm/index.js"(exports) {
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      var desc = Object.getOwnPropertyDescriptor(m, k);
      if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
        desc = { enumerable: true, get: function() {
          return m[k];
        } };
      }
      Object.defineProperty(o, k2, desc);
    } : function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports2, p)) __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    __exportStar(require_LoginButton(), exports);
    __exportStar(require_createScript(), exports);
    __exportStar(require_types(), exports);
  }
});
export default require_esm();
//# sourceMappingURL=@telegram-auth_react.js.map
