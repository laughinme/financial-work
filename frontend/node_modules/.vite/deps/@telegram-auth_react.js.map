{
  "version": 3,
  "sources": ["../../../../node_modules/@telegram-auth/react/src/createScript.ts", "../../../../node_modules/@telegram-auth/react/src/LoginButton.tsx", "../../../../node_modules/@telegram-auth/react/dist/esm/types.js", "../../../../node_modules/@telegram-auth/react/src/index.ts"],
  "sourcesContent": ["import { CreateScriptOptions } from './types';\n\n/**\n * It creates a script tag with the right attributes to load the Telegram widget\n *\n * @see https://core.telegram.org/widgets/login\n *\n * @param {CreateScriptOptions} options - The options to create the script.\n * @returns A script element\n */\nexport function createScript({\n\tauthCallbackUrl,\n\tbotUsername,\n\tbuttonSize = 'large',\n\tcornerRadius,\n\tlang = 'en',\n\tonAuthCallback,\n\trequestAccess = 'write',\n\tshowAvatar = true,\n\twidgetVersion = 21,\n}: CreateScriptOptions): HTMLScriptElement {\n\tconst script = document.createElement('script');\n\n\tscript.async = true;\n\n\tscript.src = `https://telegram.org/js/telegram-widget.js?${widgetVersion}`;\n\tscript.setAttribute('data-telegram-login', botUsername);\n\tscript.setAttribute('data-size', buttonSize);\n\tif (cornerRadius) {\n\t\tscript.setAttribute('data-radius', `${cornerRadius}`);\n\t}\n\tif (requestAccess) {\n\t\tscript.setAttribute('data-request-access', requestAccess);\n\t}\n\tscript.setAttribute('data-userpic', JSON.stringify(Boolean(showAvatar)));\n\tscript.setAttribute('data-lang', lang);\n\n\tif (authCallbackUrl) {\n\t\tscript.setAttribute('data-auth-url', authCallbackUrl);\n\t} else if (onAuthCallback) {\n\t\tscript.setAttribute('data-onauth', 'TelegramAuthLogin.onAuthCallback(user)');\n\t}\n\n\treturn script;\n}\n", "import React, { useEffect, useRef } from 'react';\nimport { LoginButtonProps, TTelegramAuthLogin } from './types';\nimport { createScript } from './createScript';\n\n/**\n * It takes an object with a bunch of properties and assigns it to the global variable\n * `TelegramAuthLogin`\n *\n * @param {TTelegramAuthLogin} options - The options to set on the global variable.\n */\nfunction initTelegramAuthLogin(options: TTelegramAuthLogin) {\n\twindow.TelegramAuthLogin = options;\n}\n\n/**\n * A React component that renders a Telegram login button.\n *\n * @see https://core.telegram.org/widgets/login\n *\n * @param {LoginButtonProps} props The props to pass to the component.\n * @returns A React component that renders the Telegram login button.\n */\nexport function LoginButton(props: LoginButtonProps) {\n\tconst hiddenDivRef = useRef<HTMLDivElement>(null);\n\tconst scriptRef = useRef<HTMLScriptElement>();\n\n\tuseEffect(() => {\n\t\t// destroy the existing script element\n\t\tscriptRef.current?.remove();\n\n\t\t// init the global variable\n\t\tinitTelegramAuthLogin({ onAuthCallback: props.onAuthCallback });\n\n\t\t// create a new script element and save it\n\t\tscriptRef.current = createScript(props);\n\n\t\t// add the script element to the DOM\n\t\thiddenDivRef.current?.after(scriptRef.current);\n\n\t\t// Save siblings before unmount\n\t\tconst siblings = hiddenDivRef.current?.parentElement?.children || [];\n\n\t\treturn () => {\n\t\t\t// destroy the script element on unmount\n\t\t\tscriptRef.current?.remove();\n\n\t\t\t// We also need to remove the rendered iframe\n\t\t\tfor (const element of siblings) {\n\t\t\t\tif (element instanceof HTMLIFrameElement && element.src.includes('oauth.telegram.org')) {\n\t\t\t\t\telement.remove();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, [props]);\n\n\treturn <div ref={hiddenDivRef} hidden />;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=types.js.map", "export * from './LoginButton';\nexport * from './createScript';\nexport * from './types';\n"],
  "mappings": ";;;;;;;;;;AAUA,YAAA,eAAA;AAAA,aAAgB,aAAa,EAC5B,iBACA,aACA,aAAa,SACb,cACA,OAAO,MACP,gBACA,gBAAgB,SAChB,aAAa,MACb,gBAAgB,GAAE,GACG;AACrB,YAAM,SAAS,SAAS,cAAc,QAAQ;AAE9C,aAAO,QAAQ;AAEf,aAAO,MAAM,8CAA8C,aAAa;AACxE,aAAO,aAAa,uBAAuB,WAAW;AACtD,aAAO,aAAa,aAAa,UAAU;AAC3C,UAAI,cAAc;AACjB,eAAO,aAAa,eAAe,GAAG,YAAY,EAAE;MACrD;AACA,UAAI,eAAe;AAClB,eAAO,aAAa,uBAAuB,aAAa;MACzD;AACA,aAAO,aAAa,gBAAgB,KAAK,UAAU,QAAQ,UAAU,CAAC,CAAC;AACvE,aAAO,aAAa,aAAa,IAAI;AAErC,UAAI,iBAAiB;AACpB,eAAO,aAAa,iBAAiB,eAAe;MACrD,WAAW,gBAAgB;AAC1B,eAAO,aAAa,eAAe,wCAAwC;MAC5E;AAEA,aAAO;IACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA,YAAA,cAAA;AAtBA,QAAA,UAAA,aAAA,eAAA;AAEA,QAAA,iBAAA;AAQA,aAAS,sBAAsB,SAA2B;AACzD,aAAO,oBAAoB;IAC5B;AAUA,aAAgB,YAAY,OAAuB;AAClD,YAAM,gBAAe,GAAA,QAAA,QAAuB,IAAI;AAChD,YAAM,aAAY,GAAA,QAAA,QAAM;AAExB,OAAA,GAAA,QAAA,WAAU,MAAK;;AAEd,wBAAU,YAAV,mBAAmB;AAGnB,8BAAsB,EAAE,gBAAgB,MAAM,eAAc,CAAE;AAG9D,kBAAU,WAAU,GAAA,eAAA,cAAa,KAAK;AAGtC,2BAAa,YAAb,mBAAsB,MAAM,UAAU;AAGtC,cAAM,aAAW,wBAAa,YAAb,mBAAsB,kBAAtB,mBAAqC,aAAY,CAAA;AAElE,eAAO,MAAK;;AAEX,WAAAA,MAAA,UAAU,YAAV,gBAAAA,IAAmB;AAGnB,qBAAW,WAAW,UAAU;AAC/B,gBAAI,mBAAmB,qBAAqB,QAAQ,IAAI,SAAS,oBAAoB,GAAG;AACvF,sBAAQ,OAAM;AACd;YACD;UACD;QACD;MACD,GAAG,CAAC,KAAK,CAAC;AAEV,aAAO,QAAA,QAAA,cAAA,OAAA,EAAK,KAAK,cAAc,QAAM,KAAA,CAAA;IACtC;;;;;ACzDA;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACD5D,iBAAA,uBAAA,OAAA;AACA,iBAAA,wBAAA,OAAA;AACA,iBAAA,iBAAA,OAAA;;;",
  "names": ["_a"]
}
